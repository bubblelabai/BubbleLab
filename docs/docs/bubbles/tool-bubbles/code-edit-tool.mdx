# Code Edit Tool

Applies code edits to BubbleFlow files using find-and-replace

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Quick Start

```typescript
import { EditBubbleFlowTool } from '@bubblelab/bubble-core';
const result = await new EditBubbleFlowTool({

  initialCode: 'const x = 1;\nconst y = 2;', // The current code to apply the edit to
  old_string: 'const x = 1;', // The exact text to replace
  new_string: 'const x = 42;', // The replacement text
}).action();
```

## Operation Details

### `execute`

<Tabs values={[
  { label: 'Input Schema', value: 'input' },
  { label: 'Output Schema', value: 'output' }
]} defaultValue="input">
  <TabItem value="input">

<div className="schema-card">
<dl>
  <dt><code>initialCode</code> <em>string</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>The current code to apply the edit to</dd>

  <dt><code>old_string</code> <em>string</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>The exact text to replace. Must be unique in the code â€” if not unique, provide more surrounding context to disambiguate.</dd>

  <dt><code>new_string</code> <em>string</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>The replacement text. Must be different from old_string.</dd>

  <dt><code>replace_all</code> <em>boolean</em> </dt>
  <dd>Replace all occurrences of old_string (default false). Use for renaming variables/strings across the file.</dd>

  <dt><code>credentials</code> <em>Record&lt;string,string&gt;</em> </dt>
  <dd>Credentials (HIDDEN from AI - injected at runtime)</dd>

  <dt><code>config</code> <em>Record&lt;string,unknown&gt;</em> </dt>
  <dd>Configuration for the edit tool (HIDDEN from AI - injected at runtime)</dd>
</dl>

</div>

  </TabItem>
  <TabItem value="output">

<div className="schema-card">
<dl>
  <dt><code>mergedCode</code> <em>string</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>The final code after applying edits</dd>

  <dt><code>applied</code> <em>boolean</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>Whether the edit was successfully applied</dd>

  <dt><code>success</code> <em>boolean</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>Whether the edit operation was successful</dd>

  <dt><code>error</code> <em>string</em> <span style={{color:'#d32f2f',fontWeight:600}}>required</span></dt>
  <dd>Error message if edit failed</dd>
</dl>

</div>

  </TabItem>
</Tabs>
